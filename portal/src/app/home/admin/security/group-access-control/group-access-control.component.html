<div class="project-setup-page">
    <h2>User Group</h2>
    <app-ng-dynamic-breadcrumb [bgColor]="'rgb(34 47 60 / 10%)'" [fontSize]="'13px'" [fontColor]="'#0275d8'"
        [lastLinkColor]="'#000'" [symbol]="' / '"></app-ng-dynamic-breadcrumb>
    <div class="bg-white p20 h-vh76">
        <div class="d-flex justify-between">
            <div class="d-flex w-80">
                <div class="m-Right30 w-100">
                    <mat-form-field appearance="fill" class="inputBox w-100">
                        <mat-label>Group Name</mat-label>
                        <input matInput name="groupName" [(ngModel)]="addGroup.groupName" autocomplete="off" required>
                    </mat-form-field>
                </div>
                <div class="w-100">
                    <mat-form-field appearance="fill" class="inputBox w-100">
                        <mat-label>Group Description</mat-label>
                        <input matInput name="description" [(ngModel)]="addGroup.shortDescription" autocomplete="off"
                            required>
                    </mat-form-field>
                </div>
            </div>
            <div class="align-right m-Top10">
                <button mat-flat-button color="accent" (click)="updateGroupAcces()"
                    class="c-white m-Right10">Save</button>
                <button mat-flat-button color="warn" (click)="cancelBtn()">Cancel</button>
            </div>
        </div>
        <div class="m-Top30 d-flex">
            <div class="example-container m-Right30 w-100">
                <h2>Available Permissions</h2>
                <div class="over-scroll-table">
                    <table mat-table [dataSource]="availablePermissions" class="mat-elevation-z8 w-100">
                        <ng-container matColumnDef="accessName">
                            <th mat-header-cell *matHeaderCellDef> Access Names </th>
                            <td mat-cell *matCellDef="let element"> {{element.accessName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="assignButton">
                            <th mat-header-cell *matHeaderCellDef> </th>
                            <td mat-cell *matCellDef="let element; let j = index;">
                                <button mat-flat-button color="accent" (click)="addRow(element, j)"
                                    class="c-white assignBtn">
                                    <mat-icon>redo</mat-icon>
                                </button>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                </div>
            </div>
            <div class="example-container w-100">
                <h2>Assigned Permissions</h2>
                <div class="over-scroll-table">
                    <table mat-table [dataSource]="assignedPermissionsRow" class="mat-elevation-z8 w-100">
                        <ng-container matColumnDef="accessName">
                            <th mat-header-cell *matHeaderCellDef> Access Names </th>
                            <td mat-cell *matCellDef="let element"> {{element.accessName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="isCreateAllowed">
                            <th mat-header-cell *matHeaderCellDef> Create </th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <mat-checkbox type="checkbox" [checked]="element.isCreateAllowed"
                                    ([ngModel])="element.isCreateAllowed"
                                    (change)="selectChek($event, i, 'isCreateAllowed')">
                                </mat-checkbox>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="isReadAllowed">
                            <th mat-header-cell *matHeaderCellDef> Read</th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <mat-checkbox type="checkbox" [checked]="element.isReadAllowed"
                                    ([ngModel])="element.isReadAllowed"
                                    (change)="selectChek($event, i, 'isReadAllowed')">
                                </mat-checkbox>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="isUpdateAllowed">
                            <th mat-header-cell *matHeaderCellDef> Update </th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <mat-checkbox type="checkbox" [checked]="element.isUpdateAllowed"
                                    ([ngModel])="element.isUpdateAllowed"
                                    (change)="selectChek($event, i, 'isUpdateAllowed')">
                                </mat-checkbox>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="isDeleteAllowed">
                            <th mat-header-cell *matHeaderCellDef> Delete </th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <mat-checkbox type="checkbox" [checked]="element.isDeleteAllowed"
                                    ([ngModel])="element.isDeleteAllowed"
                                    (change)="selectChek($event, i, 'isDeleteAllowed')">
                                </mat-checkbox>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="remove">
                            <th mat-header-cell *matHeaderCellDef> </th>
                            <td mat-cell *matCellDef="let element; let j = index;">
                                <button mat-flat-button color="warn" (click)="removeData(j, element)"
                                    class="c-white assignBtn">
                                    <mat-icon>remove</mat-icon>
                                </button>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="assignedPermissionsColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: assignedPermissionsColumns;"></tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>